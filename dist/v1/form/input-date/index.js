"use client";
import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from "react/jsx-runtime";
import { useState } from "react";
import { fnCss } from "nextjs-tools";
import Calendar from "react-calendar";
import { ModalToggler } from "../../../index.js";
import Image from "next/image";
import { DateTime } from "luxon";
import ImgCross from "web-asset/svg/regular/fi-rr-cross.svg";
import "../../../../asset/style/react-calendar.scss";
export default function ({ className, label, imgSrc, value, onChange = () => { }, timezone = "Asia/Seoul", name, hiddenInitButton = false, }) {
    var _a;
    const [open, setOpen] = useState(false);
    const dateStr = value ? DateTime.fromISO(value.toISOString()).setZone(timezone).toFormat("yyyy.MM.dd") : "미정";
    return (_jsxs(_Fragment, { children: [_jsxs("div", { className: className, children: [label && _jsx("p", { className: "mb-[-5px]", children: label }), _jsxs("div", { className: fnCss.sum("relative flex items-center border-all rounded-md h-[2.5rem] overflow-hidden"), children: [imgSrc && (_jsx("div", { className: fnCss.sum("border-right h-full flex pl-2 pr-2 bg-(--primary)"), children: _jsx(Image, { className: fnCss.sum("no-drag filter-(--primary-alt-filter)"), src: imgSrc, alt: "icon", width: 25, height: 25 }) })), _jsxs("div", { className: "grow pl-2 pr-2", children: [_jsx("input", { hidden: true, name: name, value: (_a = value === null || value === void 0 ? void 0 : value.toISOString()) !== null && _a !== void 0 ? _a : "", onChange: () => { } }), _jsx("button", { type: "button", className: "hover:underline", onClick: () => setOpen(true), children: dateStr })] }), value && !hiddenInitButton && (_jsx("button", { onClick: () => onChange(null), children: _jsx(Image, { src: ImgCross, alt: "clear", width: 20, height: 20, className: "absolute right-0 top-0 h-[2.5rem] no-drag mr-2 filter-(--text-2-filter) hover:filter-(--primary-filter)" }) }))] }), _jsx("div", { className: "min-h-[1.5rem]" })] }), _jsx(ModalToggler, { open: open, onChange: setOpen, children: _jsx(Calendar, { locale: "ko-kr", value: value, onChange: (value) => {
                        if (value instanceof Date) {
                            onChange(new Date(value.setHours(0, 0, 0, 0)));
                            setOpen(false);
                        }
                    } }) })] }));
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvdjEvZm9ybS9pbnB1dC1kYXRlL2luZGV4LnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxZQUFZLENBQUM7O0FBQ2IsT0FBYyxFQUFZLFFBQVEsRUFBQyxNQUFNLE9BQU8sQ0FBQztBQUNqRCxPQUFPLEVBQVMsS0FBSyxFQUFtQixNQUFNLGNBQWMsQ0FBQztBQUM3RCxPQUFPLFFBQVEsTUFBTSxnQkFBZ0IsQ0FBQztBQUN0QyxPQUFPLEVBQUMsWUFBWSxFQUFDLE1BQU0sWUFBWSxDQUFDO0FBQ3hDLE9BQU8sS0FBSyxNQUFNLFlBQVksQ0FBQztBQUMvQixPQUFPLEVBQUMsUUFBUSxFQUFDLE1BQU0sT0FBTyxDQUFDO0FBQy9CLE9BQU8sUUFBUSxNQUFNLHVDQUF1QyxDQUFDO0FBQzdELE9BQU8sa0NBQWtDLENBQUM7QUFhMUMsTUFBTSxDQUFDLE9BQU8sV0FBVyxFQUN4QixTQUFTLEVBQ1QsS0FBSyxFQUNMLE1BQU0sRUFDTixLQUFLLEVBQ0wsUUFBUSxHQUFHLEdBQUcsRUFBRSxHQUFFLENBQUMsRUFDbkIsUUFBUSxHQUFHLFlBQVksRUFDdkIsSUFBSSxFQUNKLGdCQUFnQixHQUFHLEtBQUssR0FDUDs7SUFDakIsTUFBTSxDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDeEMsTUFBTSxPQUFPLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztJQUM5RyxPQUFPLENBQ04sOEJBQ0MsZUFBSyxTQUFTLEVBQUUsU0FBUyxhQUN2QixLQUFLLElBQUksWUFBRyxTQUFTLEVBQUMsV0FBVyxZQUFFLEtBQUssR0FBSyxFQUM5QyxlQUNDLFNBQVMsRUFBRSxLQUFLLENBQUMsR0FBRyxDQUNuQiw2RUFBNkUsQ0FDN0UsYUFDQSxNQUFNLElBQUksQ0FDVixjQUFLLFNBQVMsRUFBRSxLQUFLLENBQUMsR0FBRyxDQUFDLG1EQUFtRCxDQUFDLFlBQzdFLEtBQUMsS0FBSyxJQUNMLFNBQVMsRUFBRSxLQUFLLENBQUMsR0FBRyxDQUFDLHVDQUF1QyxDQUFDLEVBQzdELEdBQUcsRUFBRSxNQUFNLEVBQ1gsR0FBRyxFQUFDLE1BQU0sRUFDVixLQUFLLEVBQUUsRUFBRSxFQUNULE1BQU0sRUFBRSxFQUFFLEdBQ1QsR0FDRyxDQUNOLEVBQ0QsZUFBSyxTQUFTLEVBQUMsZ0JBQWdCLGFBQzlCLGdCQUNDLE1BQU0sUUFDTixJQUFJLEVBQUUsSUFBSSxFQUNWLEtBQUssRUFBRSxNQUFBLEtBQUssYUFBTCxLQUFLLHVCQUFMLEtBQUssQ0FBRSxXQUFXLEVBQUUsbUNBQUksRUFBRSxFQUNqQyxRQUFRLEVBQUUsR0FBRyxFQUFFLEdBQUUsQ0FBQyxHQUNqQixFQUNGLGlCQUNDLElBQUksRUFBQyxRQUFRLEVBQ2IsU0FBUyxFQUFDLGlCQUFpQixFQUMzQixPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxZQUMzQixPQUFPLEdBQ0EsSUFDSixFQUNMLEtBQUssSUFBSSxDQUFDLGdCQUFnQixJQUFJLENBQzlCLGlCQUFRLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFlBQ3BDLEtBQUMsS0FBSyxJQUNMLEdBQUcsRUFBRSxRQUFRLEVBQ2IsR0FBRyxFQUFDLE9BQU8sRUFDWCxLQUFLLEVBQUUsRUFBRSxFQUNULE1BQU0sRUFBRSxFQUFFLEVBQ1YsU0FBUyxFQUFDLHlHQUF5RyxHQUNsSCxHQUNNLENBQ1QsSUFDSSxFQUNOLGNBQUssU0FBUyxFQUFDLGdCQUFnQixHQUFHLElBQzdCLEVBRU4sS0FBQyxZQUFZLElBQ1osSUFBSSxFQUFFLElBQUksRUFDVixRQUFRLEVBQUUsT0FBTyxZQUNqQixLQUFDLFFBQVEsSUFDUixNQUFNLEVBQUUsT0FBTyxFQUNmLEtBQUssRUFBRSxLQUFLLEVBQ1osUUFBUSxFQUFFLENBQUMsS0FBSyxFQUFFLEVBQUU7d0JBQ25CLElBQUksS0FBSyxZQUFZLElBQUksRUFBRSxDQUFDOzRCQUMzQixRQUFRLENBQUMsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7NEJBQy9DLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQzt3QkFDaEIsQ0FBQztvQkFDRixDQUFDLEdBQ0EsR0FDWSxJQUNiLENBQ0gsQ0FBQztBQUNILENBQUMifQ==