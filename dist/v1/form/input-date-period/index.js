"use client";
import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useState } from "react";
import { fnCss } from "nextjs-tools";
import "../../../../asset/style/react-calendar.scss";
import Image from "next/image";
import Calendar from "react-calendar";
import { ModalToggler } from "../../../index.js";
import { DateTime } from "luxon";
import ImgCross from "web-asset/svg/regular/fi-rr-cross.svg";
export default function ({ className, label, imgSrc, value = {}, onChange = () => { }, timezone = "Asia/Seoul", name, }) {
    var _a, _b, _c, _d;
    const [start, setStart] = useState(false);
    const [end, setEnd] = useState(false);
    const strStart = value.start ? DateTime.fromJSDate(value.start).setZone(timezone).toFormat("yyyy.MM.dd") : "미정";
    const strEnd = value.end ? DateTime.fromJSDate(value.end).setZone(timezone).toFormat("yyyy.MM.dd") : "미정";
    return (_jsxs("div", { className: className, children: [label && _jsx("p", { className: "mb-[-5px]", children: label }), _jsxs("div", { className: "grid grid-cols-1 lg:grid-cols-2 gap-2 lg:gap-4", children: [_jsxs("div", { className: fnCss.sum("relative flex items-center border-all rounded-md h-[2.5rem] overflow-hidden"), children: [imgSrc && (_jsx("div", { className: fnCss.sum("border-right h-full flex pl-2 pr-2 bg-(--primary)"), children: _jsx(Image, { className: fnCss.sum("no-drag filter-(--primary-alt-filter)"), src: imgSrc, alt: "icon", width: 25, height: 25 }) })), _jsxs("div", { className: "grow pl-2 pr-2", children: [_jsx("input", { className: "w-full", name: name === null || name === void 0 ? void 0 : name.start, value: (_b = (_a = value === null || value === void 0 ? void 0 : value.start) === null || _a === void 0 ? void 0 : _a.toISOString()) !== null && _b !== void 0 ? _b : "", hidden: true, onChange: () => { } }), _jsx("button", { className: "hover:underline", onClick: () => setStart(true), children: strStart })] }), value.start && (_jsx("button", { onClick: () => onChange(Object.assign(Object.assign({}, value), { start: undefined })), children: _jsx(Image, { src: ImgCross, alt: "clear", width: 20, height: 20, className: "absolute right-0 top-0 h-[2.5rem] no-drag mr-2 filter-(--text-2-filter) hover:filter-(--primary-filter)" }) }))] }), _jsxs("div", { className: fnCss.sum("flex items-center border-all rounded-md h-[2.5rem] overflow-hidden pl-2"), children: [_jsx("input", { name: name === null || name === void 0 ? void 0 : name.end, value: (_d = (_c = value === null || value === void 0 ? void 0 : value.end) === null || _c === void 0 ? void 0 : _c.toISOString()) !== null && _d !== void 0 ? _d : "", hidden: true, onChange: () => { } }), _jsx("button", { className: "hover:underline", onClick: () => setEnd(true), children: strEnd }), _jsx("div", { className: "grow" }), value.end && (_jsx("button", { onClick: () => onChange(Object.assign(Object.assign({}, value), { end: undefined })), children: _jsx(Image, { src: ImgCross, alt: "clear", width: 20, height: 20, className: "no-drag mr-2 w-[0.7rem] filter-(--text-2-filter) hover:filter-(--primary-filter)" }) }))] })] }), _jsx("div", { className: "min-h-[1.5rem]" }), _jsx(Modal, { value: value === null || value === void 0 ? void 0 : value.start, open: start, onChangeOpen: setStart, onChange: (start) => onChange(Object.assign(Object.assign({}, value), { start })) }), _jsx(Modal, { value: value === null || value === void 0 ? void 0 : value.end, open: end, onChangeOpen: setEnd, onChange: (end) => onChange(Object.assign(Object.assign({}, value), { end })) })] }));
}
function Modal({ value, onChange, open, onChangeOpen, }) {
    return (_jsx(ModalToggler, { open: open, onChange: onChangeOpen, children: _jsx(Calendar, { locale: "ko-kr", value: value, onChange: (date, event) => {
                if (!(date instanceof Date))
                    return;
                onChange(new Date(date.setHours(0, 0, 0, 0)));
                onChangeOpen(false);
            } }) }));
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvdjEvZm9ybS9pbnB1dC1kYXRlLXBlcmlvZC9pbmRleC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWSxDQUFDOztBQUNiLE9BQWMsRUFBWSxRQUFRLEVBQUMsTUFBTSxPQUFPLENBQUM7QUFDakQsT0FBTyxFQUFTLEtBQUssRUFBUyxNQUFNLGNBQWMsQ0FBQztBQUNuRCxPQUFPLGtDQUFrQyxDQUFDO0FBQzFDLE9BQU8sS0FBSyxNQUFNLFlBQVksQ0FBQztBQUMvQixPQUFPLFFBQVEsTUFBTSxnQkFBZ0IsQ0FBQztBQUN0QyxPQUFPLEVBQUMsWUFBWSxFQUFDLE1BQU0sWUFBWSxDQUFDO0FBQ3hDLE9BQU8sRUFBQyxRQUFRLEVBQUMsTUFBTSxPQUFPLENBQUM7QUFDL0IsT0FBTyxRQUFRLE1BQU0sdUNBQXVDLENBQUM7QUFvQjdELE1BQU0sQ0FBQyxPQUFPLFdBQVcsRUFDeEIsU0FBUyxFQUNULEtBQUssRUFDTCxNQUFNLEVBQ04sS0FBSyxHQUFHLEVBQUUsRUFDVixRQUFRLEdBQUcsR0FBRyxFQUFFLEdBQUUsQ0FBQyxFQUNuQixRQUFRLEdBQUcsWUFBWSxFQUN2QixJQUFJLEdBQ2E7O0lBQ2pCLE1BQU0sQ0FBQyxLQUFLLEVBQUUsUUFBUSxDQUFDLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsTUFBTSxDQUFDLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3RDLE1BQU0sUUFBUSxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztJQUNoSCxNQUFNLE1BQU0s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