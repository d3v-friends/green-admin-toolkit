"use client";
import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useState } from "react";
import { fnCsv } from "nextjs-tools";
import Theme from "../theme/index.js";
const { Label, Checkbox } = Theme;
export default function ({ value, items, label, onChange, className, gridClassName = "grid grid-cols-5 gap-2 lg:gap-4", name, }) {
    return (_jsxs("div", { className: className, children: [_jsx(Label, { children: label }), _jsx("div", { className: gridClassName, children: items.map((v, i) => (_jsx(CheckboxButton, Object.assign({ inputValue: value, onChange: onChange }, v), i))) }), _jsx("input", { hidden: true, name, value: value.join(","), onChange: (e) => onChange(e.target.value.split(",")) })] }));
}
function CheckboxButton({ label, value, inputValue, onChange, }) {
    const [isChecked, setIsChecked] = useState(fnCsv.has(inputValue.join(","), value));
    const onChangeHandler = (v) => {
        const nextValue = v ? fnCsv.push(inputValue.join(","), value) : fnCsv.pop(inputValue.join(","), value);
        onChange(nextValue === "" ? [] : nextValue.split(","));
        setIsChecked(v);
    };
    return (_jsx(Checkbox, { value: isChecked, onChange: onChangeHandler, children: label }));
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvdjIvaW5wdXQvc2VsZWN0LWNoZWNrYm94L2luZGV4LnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxZQUFZLENBQUM7O0FBQ2IsT0FBYyxFQUFZLFFBQVEsRUFBQyxNQUFNLE9BQU8sQ0FBQztBQUNqRCxPQUFPLEVBQVMsS0FBSyxFQUFDLE1BQU0sY0FBYyxDQUFDO0FBQzNDLE9BQU8sS0FBSyxNQUFNLFVBQVUsQ0FBQztBQXVCN0IsTUFBTSxFQUFDLEtBQUssRUFBRSxRQUFRLEVBQUMsR0FBRyxLQUFLLENBQUM7QUFFaEMsTUFBTSxDQUFDLE9BQU8sV0FBVyxFQUN4QixLQUFLLEVBQ0wsS0FBSyxFQUNMLEtBQUssRUFDTCxRQUFRLEVBQ1IsU0FBUyxFQUNULGFBQWEsR0FBRyxpQ0FBaUMsRUFHakQsSUFBSSxHQUNhO0lBQ2pCLE9BQU8sQ0FDTixlQUFLLFNBQVMsRUFBRSxTQUFTLGFBQ3hCLEtBQUMsS0FBSyxjQUFFLEtBQUssR0FBUyxFQUN0QixjQUFLLFNBQVMsRUFBRSxhQUFhLFlBQzNCLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUNwQixLQUFDLGNBQWMsa0JBRWQsVUFBVSxFQUFFLEtBQUssRUFDakIsUUFBUSxFQUFFLFFBQVEsSUFDZCxDQUFDLEdBSEEsQ0FBQyxDQUlMLENBQ0YsQ0FBQyxHQUNHLEVBRU4sZ0JBQ0MsTUFBTSxRQUNELElBQUksRUFDVCxLQUFLLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFDdEIsUUFBUSxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQ25ELElBQ0csQ0FDTixDQUFDO0FBQ0gsQ0FBQztBQUVELFNBQVMsY0FBYyxDQUFDLEVBQ3ZCLEtBQUssRUFDTCxLQUFLLEVBQ0wsVUFBVSxFQUNWLFFBQVEsR0FDMkU7SUFDbkYsTUFBTSxDQUFDLFNBQVMsRUFBRSxZQUFZLENBQUMsR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDbkYsTUFBTSxlQUFlLEdBQUcsQ0FBQyxDQUFVLEVBQUUsRUFBRTtRQUN0QyxNQUFNLFNBQVMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ3ZHLFFBQVEsQ0FBQyxTQUFTLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2RCxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDakIsQ0FBQyxDQUFDO0lBRUYsT0FBTyxDQUNOLEtBQUMsUUFBUSxJQUNSLEtBQUssRUFBRSxTQUFTLEVBQ2hCLFFBQVEsRUFBRSxlQUFlLFlBQ3hCLEtBQUssR0FDSSxDQUNYLENBQUM7QUFDSCxDQUFDIn0=