"use client";
import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from "react/jsx-runtime";
import { useState } from "react";
import { fnCss } from "nextjs-tools";
import Calendar from "react-calendar";
import { ModalToggler } from "../../../index.js";
import Image from "next/image";
import { DateTime } from "luxon";
import ImgCross from "web-asset/svg/regular/fi-rr-cross.svg";
import "../../../../asset/style/react-calendar.scss";
export default function ({ className, label, imgSrc, value, onChange = () => { }, timezone = "Asia/Seoul", name, hiddenInitButton = false, }) {
    var _a;
    const [open, setOpen] = useState(false);
    const dateStr = value ? DateTime.fromISO(value.toISOString()).setZone(timezone).toFormat("yyyy.MM.dd") : "미정";
    return (_jsxs(_Fragment, { children: [_jsxs("div", { className: className, children: [label && _jsx("p", { className: "mb-[-5px]", children: label }), _jsxs("div", { className: fnCss.sum("relative flex items-center border-all rounded-md h-[2.5rem] overflow-hidden"), children: [imgSrc && (_jsx("div", { className: fnCss.sum("border-right h-full flex pl-2 pr-2 bg-(--primary)"), children: _jsx(Image, { className: fnCss.sum("no-drag filter-(--primary-alt-filter)"), src: imgSrc, alt: "icon", width: 25, height: 25 }) })), _jsxs("div", { className: "grow pl-2 pr-2", children: [_jsx("input", { hidden: true, name: name, value: (_a = value === null || value === void 0 ? void 0 : value.toISOString()) !== null && _a !== void 0 ? _a : "", onChange: () => { } }), _jsx("button", { type: "button", className: "hover:underline", onClick: () => setOpen(true), children: dateStr })] }), value && !hiddenInitButton && (_jsx("button", { onClick: () => onChange(null), children: _jsx(Image, { src: ImgCross, alt: "clear", width: 20, height: 20, className: "absolute right-0 top-0 h-[2.5rem] no-drag mr-2 filter-(--text-2-filter) hover:filter-(--primary-filter)" }) }))] }), _jsx("div", { className: "min-h-[1.5rem]" })] }), _jsx(ModalToggler, { open: open, onChange: setOpen, children: _jsx(Calendar, { locale: "ko-kr", value: value, onChange: (value) => {
                        if (value instanceof Date) {
                            onChange(new Date(value.setHours(0, 0, 0, 0)));
                            setOpen(false);
                        }
                    } }) })] }));
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvY29tcC9mb3JtL2lucHV0LWRhdGUvaW5kZXgudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFlBQVksQ0FBQzs7QUFDYixPQUFjLEVBQVksUUFBUSxFQUFDLE1BQU0sT0FBTyxDQUFDO0FBQ2pELE9BQU8sRUFBUyxLQUFLLEVBQW1CLE1BQU0sY0FBYyxDQUFDO0FBQzdELE9BQU8sUUFBUSxNQUFNLGdCQUFnQixDQUFDO0FBQ3RDLE9BQU8sRUFBQyxZQUFZLEVBQUMsTUFBTSxZQUFZLENBQUM7QUFDeEMsT0FBTyxLQUFLLE1BQU0sWUFBWSxDQUFDO0FBQy9CLE9BQU8sRUFBQyxRQUFRLEVBQUMsTUFBTSxPQUFPLENBQUM7QUFDL0IsT0FBTyxRQUFRLE1BQU0sdUNBQXVDLENBQUM7QUFDN0QsT0FBTyxrQ0FBa0MsQ0FBQztBQWExQyxNQUFNLENBQUMsT0FBTyxXQUFXLEVBQ3hCLFNBQVMsRUFDVCxLQUFLLEVBQ0wsTUFBTSxFQUNOLEtBQUssRUFDTCxRQUFRLEdBQUcsR0FBRyxFQUFFLEdBQUUsQ0FBQyxFQUNuQixRQUFRLEdBQUcsWUFBWSxFQUN2QixJQUFJLEVBQ0osZ0JBQWdCLEdBQUcsS0FBSyxHQUNQOztJQUNqQixNQUFNLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN4QyxNQUFNLE9BQU8sR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO0lBQzlHLE9BQU8sQ0FDTiw4QkFDQyxlQUFLLFNBQVMsRUFBRSxTQUFTLGFBQ3ZCLEtBQUssSUFBSSxZQUFHLFNBQVMsRUFBQyxXQUFXLFlBQUUsS0FBSyxHQUFLLEVBQzlDLGVBQ0MsU0FBUyxFQUFFLEtBQUssQ0FBQyxHQUFHLENBQ25CLDZFQUE2RSxDQUM3RSxhQUNBLE1BQU0sSUFBSSxDQUNWLGNBQUssU0FBUyxFQUFFLEtBQUssQ0FBQyxHQUFHLENBQUMsbURBQW1ELENBQUMsWUFDN0UsS0FBQyxLQUFLLElBQ0wsU0FBUyxFQUFFLEtBQUssQ0FBQyxHQUFHLENBQUMsdUNBQXVDLENBQUMsRUFDN0QsR0FBRyxFQUFFLE1BQU0sRUFDWCxHQUFHLEVBQUMsTUFBTSxFQUNWLEtBQUssRUFBRSxFQUFFLEVBQ1QsTUFBTSxFQUFFLEVBQUUsR0FDVCxHQUNHLENBQ04sRUFDRCxlQUFLLFNBQVMsRUFBQyxnQkFBZ0IsYUFDOUIsZ0JBQ0MsTUFBTSxRQUNOLElBQUksRUFBRSxJQUFJLEVBQ1YsS0FBSyxFQUFFLE1BQUEsS0FBSyxhQUFMLEtBQUssdUJBQUwsS0FBSyxDQUFFLFdBQVcsRUFBRSxtQ0FBSSxFQUFFLEVBQ2pDLFFBQVEsRUFBRSxHQUFHLEVBQUUsR0FBRSxDQUFDLEdBQ2pCLEVBQ0YsaUJBQ0MsSUFBSSxFQUFDLFFBQVEsRUFDYixTQUFTLEVBQUMsaUJBQWlCLEVBQzNCLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFlBQzNCLE9BQU8sR0FDQSxJQUNKLEVBQ0wsS0FBSyxJQUFJLENBQUMsZ0JBQWdCLElBQUksQ0FDOUIsaUJBQVEsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsWUFDcEMsS0FBQyxLQUFLLElBQ0wsR0FBRyxFQUFFLFFBQVEsRUFDYixHQUFHLEVBQUMsT0FBTyxFQUNYLEtBQUssRUFBRSxFQUFFLEVBQ1QsTUFBTSxFQUFFLEVBQUUsRUFDVixTQUFTLEVBQUMseUdBQXlHLEdBQ2xILEdBQ00sQ0FDVCxJQUNJLEVBQ04sY0FBSyxTQUFTLEVBQUMsZ0JBQWdCLEdBQUcsSUFDN0IsRUFFTixLQUFDLFlBQVksSUFDWixJQUFJLEVBQUUsSUFBSSxFQUNWLFFBQVEsRUFBRSxPQUFPLFlBQ2pCLEtBQUMsUUFBUSxJQUNSLE1BQU0sRUFBRSxPQUFPLEVBQ2YsS0FBSyxFQUFFLEtBQUssRUFDWixRQUFRLEVBQUUsQ0FBQyxLQUFLLEVBQUUsRUFBRTt3QkFDbkIsSUFBSSxLQUFLLFlBQVksSUFBSSxFQUFFLENBQUM7NEJBQzNCLFFBQVEsQ0FBQyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzs0QkFDL0MsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO3dCQUNoQixDQUFDO29CQUNGLENBQUMsR0FDQSxHQUNZLElBQ2IsQ0FDSCxDQUFDO0FBQ0gsQ0FBQyJ9