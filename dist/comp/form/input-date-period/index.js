"use client";
import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useState } from "react";
import { fnCss } from "nextjs-tools";
import "../../../../asset/style/react-calendar.scss";
import Image from "next/image";
import Calendar from "react-calendar";
import { ModalToggler } from "../../../index.js";
import { DateTime } from "luxon";
import ImgCross from "web-asset/svg/regular/fi-rr-cross.svg";
export default function ({ className, label, imgSrc, value = {}, onChange = () => { }, timezone = "Asia/Seoul", }) {
    const [start, setStart] = useState(false);
    const [end, setEnd] = useState(false);
    const strStart = value.start ? DateTime.fromJSDate(value.start).setZone(timezone).toFormat("yyyy.MM.dd") : "미정";
    const strEnd = value.end ? DateTime.fromJSDate(value.end).setZone(timezone).toFormat("yyyy.MM.dd") : "미정";
    return (_jsxs("div", { className: className, children: [label && _jsx("p", { className: "mb-[-5px]", children: label }), _jsxs("div", { className: "grid grid-cols-2 gap-2 lg:gap-4", children: [_jsxs("div", { className: fnCss.sum("flex items-center border-all rounded-md h-[2.5rem] overflow-hidden"), children: [imgSrc && (_jsx("div", { className: fnCss.sum("border-right h-full flex pl-2 pr-2 bg-(--primary)"), children: _jsx(Image, { className: fnCss.sum("no-drag filter-(--primary-alt-filter)"), src: imgSrc, alt: "icon", width: 25, height: 25 }) })), _jsx("div", { className: "grow pl-2 pr-2", children: _jsx("button", { className: "hover:underline", onClick: () => setStart(true), children: strStart }) }), value.start && (_jsx("button", { onClick: () => onChange(Object.assign(Object.assign({}, value), { start: undefined })), children: _jsx(Image, { src: ImgCross, alt: "clear", width: 20, height: 20, className: "no-drag mr-2 w-[0.7rem] filter-(--text-2-filter) hover:filter-(--primary-filter)" }) }))] }), _jsxs("div", { className: fnCss.sum("flex items-center border-all rounded-md h-[2.5rem] overflow-hidden pl-2"), children: [_jsx("button", { className: "hover:underline", onClick: () => setEnd(true), children: strEnd }), _jsx("div", { className: "grow" }), value.end && (_jsx("button", { onClick: () => onChange(Object.assign(Object.assign({}, value), { end: undefined })), children: _jsx(Image, { src: ImgCross, alt: "clear", width: 20, height: 20, className: "no-drag mr-2 w-[0.7rem] filter-(--text-2-filter) hover:filter-(--primary-filter)" }) }))] })] }), _jsx("div", { className: "min-h-[1.5rem]" }), _jsx(ModalToggler, { open: start, onChange: setStart, children: _jsx(Calendar, { locale: "ko-kr", onChange: (date, event) => {
                        if (!(date instanceof Date))
                            return;
                        onChange(Object.assign(Object.assign({}, value), { start: new Date(date.setHours(0, 0, 0, 0)) }));
                        setStart(false);
                    } }) }), _jsx(ModalToggler, { open: end, onChange: setEnd, children: _jsx(Calendar, { locale: "ko-kr", onChange: (date, event) => {
                        if (!(date instanceof Date))
                            return;
                        onChange(Object.assign(Object.assign({}, value), { end: new Date(date.setHours(0, 0, 0, 0)) }));
                        setEnd(false);
                    } }) })] }));
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvY29tcC9mb3JtL2lucHV0LWRhdGUtcGVyaW9kL2luZGV4LnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxZQUFZLENBQUM7O0FBQ2IsT0FBYyxFQUFZLFFBQVEsRUFBQyxNQUFNLE9BQU8sQ0FBQztBQUNqRCxPQUFPLEVBQVMsS0FBSyxFQUFTLE1BQU0sY0FBYyxDQUFDO0FBQ25ELE9BQU8sa0NBQWtDLENBQUM7QUFDMUMsT0FBTyxLQUFLLE1BQU0sWUFBWSxDQUFDO0FBQy9CLE9BQU8sUUFBUSxNQUFNLGdCQUFnQixDQUFDO0FBQ3RDLE9BQU8sRUFBQyxZQUFZLEVBQUMsTUFBTSxZQUFZLENBQUM7QUFDeEMsT0FBTyxFQUFDLFFBQVEsRUFBQyxNQUFNLE9BQU8sQ0FBQztBQUMvQixPQUFPLFFBQVEsTUFBTSx1Q0FBdUMsQ0FBQztBQWdCN0QsTUFBTSxDQUFDLE9BQU8sV0FBVyxFQUN4QixTQUFTLEVBQ1QsS0FBSyxFQUNMLE1BQU0sRUFDTixLQUFLLEdBQUcsRUFBRSxFQUNWLFFBQVEsR0FBRyxHQUFHLEVBQUUsR0FBRSxDQUFDLEVBQ25CLFFBQVEsR0FBRyxZQUFZLEdBQ047SUFDakIsTUFBTSxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDMUMsTUFBTSxDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUMsR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDdEMsTUFBTSxRQUFRLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO0lBQ2hILE1BQU0sTUFBTSxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztJQUUxRyxPQUFPLENBQ04sZUFBSyxTQUFTLEVBQUUsU0FBUyxhQUN2QixLQUFLLElBQUksWUFBRyxTQUFTLEVBQUMsV0FBVyxZQUFFLEtBQUssR0FBSyxFQUM5QyxlQUFLLFNBQVMsRUFBQyxpQ0FBaUMsYUFDL0MsZUFBSyxTQUFTLEVBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxvRUFBb0UsQ0FBQyxhQUM3RixNQUFNLElBQUksQ0FDVixjQUFLLFNBQVMsRUFBRSxLQUFLLENBQUMsR0FBRyxDQUFDLG1EQUFtRCxDQUFDLFlBQzdFLEtBQUMsS0FBSyxJQUNMLFNBQVMsRUFBRSxLQUFLLENBQUMsR0FBRyxDQUFDLHVDQUF1QyxDQUFDLEVBQzdELEdBQUcsRUFBRSxNQUFNLEVBQ1gsR0FBRyxFQUFDLE1BQU0sRUFDVixLQUFLLEVBQUUsRUFBRSxFQUNULE1BQU0sRUFBRSxFQUFFLEdBQ1QsR0FDRyxDQUNOLEVBQ0QsY0FBSyxTQUFTLEVBQUMsZ0JBQWdCLFlBQzlCLGlCQUNDLFNBQVMsRUFBQyxpQkFBaUIsRUFDM0IsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsWUFDNUIsUUFBUSxHQUNELEdBQ0osRUFFTCxLQUFLLENBQUMsS0FBSyxJQUFJLENBQ2YsaUJBQVEsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLFFBQVEsaUNBQUssS0FBSyxLQUFFLEtBQUssRUFBRSxTQUFTLElBQUUsWUFDNUQsS0FBQyxLQUFLLElBQ0wsR0FBRyxFQUFFLFFBQVEsRUFDYixHQUFHLEVBQUMsT0FBTyxFQUNYLEtBQUssRUFBRSxFQUFFLEVBQ1QsTUFBTSxFQUFFLEVBQUUsRUFDVixTQUFTLEVBQUMsa0ZBQWtGLEdBQzNGLEdBQ00sQ0FDVCxJQUNJLEVBRU4sZUFBSyxTQUFTLEVBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQyx5RUFBeUUsQ0FBQyxhQUNuRyxpQkFDQyxTQUFTLEVBQUMsaUJBQWlCLEVBQzNCLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFlBQzFCLE1BQU0sR0FDQyxFQUVULGNBQUssU0FBUyxFQUFDLE1BQU0sR0FBRyxFQUV2QixLQUFLLENBQUMsR0FBRyxJQUFJLENBQ2IsaUJBQVEsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLFFBQVEsaUNBQUssS0FBSyxLQUFFLEdBQUcsRUFBRSxTQUFTLElBQUUsWUFDMUQsS0FBQyxLQUFLLElBQ0wsR0FBRyxFQUFFLFFBQVEsRUFDYixHQUFHLEVBQUMsT0FBTyxFQUNYLEtBQUssRUFBRSxFQUFFLEVBQ1QsTUFBTSxFQUFFLEVBQUUsRUFDVixTQUFTLEVBQUMsa0ZBQWtGLEdBQzNGLEdBQ00sQ0FDVCxJQUNJLElBQ0QsRUFFTixjQUFLLFNBQVMsRUFBQyxnQkFBZ0IsR0FBRyxFQUVsQyxLQUFDLFlBQVksSUFDWixJQUFJLEVBQUUsS0FBSyxFQUNYLFFBQVEsRUFBRSxRQUFRLFlBQ2xCLEtBQUMsUUFBUSxJQUNSLE1BQU0sRUFBRSxPQUFPLEVBQ2YsUUFBUSxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxFQUFFO3dCQUN6QixJQUFJLENBQUMsQ0FBQyxJQUFJLFlBQVksSUFBSSxDQUFDOzRCQUFFLE9BQU87d0JBQ3BDLFFBQVEsaUNBQUssS0FBSyxLQUFFLEtBQUssRUFBRSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUUsQ0FBQzt3QkFDakUsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO29CQUNqQixDQUFDLEdBQ0EsR0FDWSxFQUVmLEtBQUMsWUFBWSxJQUNaLElBQUksRUFBRSxHQUFHLEVBQ1QsUUFBUSxFQUFFLE1BQU0sWUFDaEIsS0FBQyxRQUFRLElBQ1IsTUFBTSxFQUFFLE9BQU8sRUFDZixRQUFRLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUU7d0JBQ3pCLElBQUksQ0FBQyxDQUFDLElBQUksWUFBWSxJQUFJLENBQUM7NEJBQUUsT0FBTzt3QkFDcEMsUUFBUSxpQ0FBSyxLQUFLLEtBQUUsR0FBRyxFQUFFLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBRSxDQUFDO3dCQUMvRCxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7b0JBQ2YsQ0FBQyxHQUNBLEdBQ1ksSUFDVixDQUNOLENBQUM7QUFDSCxDQUFDIn0=