"use client";
import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useState } from "react";
import { fnCss } from "nextjs-tools";
import "../../../../asset/style/react-calendar.scss";
import Image from "next/image";
import Calendar from "react-calendar";
import { ModalToggler } from "../../../index.js";
import { DateTime } from "luxon";
import ImgCross from "web-asset/svg/regular/fi-rr-cross.svg";
export default function ({ className, label, imgSrc, value = {}, onChange = () => { }, timezone = "Asia/Seoul", name, }) {
    var _a, _b, _c, _d;
    const [start, setStart] = useState(false);
    const [end, setEnd] = useState(false);
    const strStart = value.start ? DateTime.fromJSDate(value.start).setZone(timezone).toFormat("yyyy.MM.dd") : "미정";
    const strEnd = value.end ? DateTime.fromJSDate(value.end).setZone(timezone).toFormat("yyyy.MM.dd") : "미정";
    return (_jsxs("div", { className: className, children: [label && _jsx("p", { className: "mb-[-5px]", children: label }), _jsxs("div", { className: "grid grid-cols-1 lg:grid-cols-2 gap-2 lg:gap-4", children: [_jsxs("div", { className: fnCss.sum("relative flex items-center border-all rounded-md h-[2.5rem] overflow-hidden"), children: [imgSrc && (_jsx("div", { className: fnCss.sum("border-right h-full flex pl-2 pr-2 bg-(--primary)"), children: _jsx(Image, { className: fnCss.sum("no-drag filter-(--primary-alt-filter)"), src: imgSrc, alt: "icon", width: 25, height: 25 }) })), _jsxs("div", { className: "grow pl-2 pr-2", children: [_jsx("input", { className: "w-full", name: name === null || name === void 0 ? void 0 : name.start, value: (_b = (_a = value === null || value === void 0 ? void 0 : value.start) === null || _a === void 0 ? void 0 : _a.toISOString()) !== null && _b !== void 0 ? _b : "", hidden: true, onChange: () => { } }), _jsx("button", { className: "hover:underline", onClick: () => setStart(true), children: strStart })] }), value.start && (_jsx("button", { onClick: () => onChange(Object.assign(Object.assign({}, value), { start: undefined })), children: _jsx(Image, { src: ImgCross, alt: "clear", width: 20, height: 20, className: "absolute right-0 top-0 h-[2.5rem] no-drag mr-2 filter-(--text-2-filter) hover:filter-(--primary-filter)" }) }))] }), _jsxs("div", { className: fnCss.sum("flex items-center border-all rounded-md h-[2.5rem] overflow-hidden pl-2"), children: [_jsx("input", { name: name === null || name === void 0 ? void 0 : name.end, value: (_d = (_c = value === null || value === void 0 ? void 0 : value.end) === null || _c === void 0 ? void 0 : _c.toISOString()) !== null && _d !== void 0 ? _d : "", hidden: true, onChange: () => { } }), _jsx("button", { className: "hover:underline", onClick: () => setEnd(true), children: strEnd }), _jsx("div", { className: "grow" }), value.end && (_jsx("button", { onClick: () => onChange(Object.assign(Object.assign({}, value), { end: undefined })), children: _jsx(Image, { src: ImgCross, alt: "clear", width: 20, height: 20, className: "no-drag mr-2 w-[0.7rem] filter-(--text-2-filter) hover:filter-(--primary-filter)" }) }))] })] }), _jsx("div", { className: "min-h-[1.5rem]" }), _jsx(Modal, { value: value === null || value === void 0 ? void 0 : value.start, open: start, onChangeOpen: setStart, onChange: (start) => onChange(Object.assign(Object.assign({}, value), { start })) }), _jsx(Modal, { value: value === null || value === void 0 ? void 0 : value.end, open: end, onChangeOpen: setEnd, onChange: (end) => onChange(Object.assign(Object.assign({}, value), { end })) })] }));
}
function Modal({ value, onChange, open, onChangeOpen, }) {
    return (_jsx(ModalToggler, { open: open, onChange: onChangeOpen, children: _jsx(Calendar, { locale: "ko-kr", value: value, onChange: (date, event) => {
                if (!(date instanceof Date))
                    return;
                onChange(new Date(date.setHours(0, 0, 0, 0)));
                onChangeOpen(false);
            } }) }));
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvY29tcC9mb3JtL2lucHV0LWRhdGUtcGVyaW9kL2luZGV4LnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxZQUFZLENBQUM7O0FBQ2IsT0FBYyxFQUFZLFFBQVEsRUFBQyxNQUFNLE9BQU8sQ0FBQztBQUNqRCxPQUFPLEVBQVMsS0FBSyxFQUFTLE1BQU0sY0FBYyxDQUFDO0FBQ25ELE9BQU8sa0NBQWtDLENBQUM7QUFDMUMsT0FBTyxLQUFLLE1BQU0sWUFBWSxDQUFDO0FBQy9CLE9BQU8sUUFBUSxNQUFNLGdCQUFnQixDQUFDO0FBQ3RDLE9BQU8sRUFBQyxZQUFZLEVBQUMsTUFBTSxZQUFZLENBQUM7QUFDeEMsT0FBTyxFQUFDLFFBQVEsRUFBQyxNQUFNLE9BQU8sQ0FBQztBQUMvQixPQUFPLFFBQVEsTUFBTSx1Q0FBdUMsQ0FBQztBQW9CN0QsTUFBTSxDQUFDLE9BQU8sV0FBVyxFQUN4QixTQUFTLEVBQ1QsS0FBSyxFQUNMLE1BQU0sRUFDTixLQUFLLEdBQUcsRUFBRSxFQUNWLFFBQVEsR0FBRyxHQUFHLEVBQUUsR0FBRSxDQUFDLEVBQ25CLFFBQVEsR0FBRyxZQUFZLEVBQ3ZCLElBQUksR0FDYTs7SUFDakIsTUFBTSxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDMUMsTUFBTSxDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUMsR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDdEMsTUFBTSxRQUFRLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO0lBQ2hILE1BQU0sTUFB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