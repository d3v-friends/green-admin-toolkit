"use client";
import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useState } from "react";
import Base from "../base/index.js";
import { fnCss } from "nextjs-tools";
import Header from "./header.js";
const { RowBuilder, Colgroup, Table, RowEmpty } = Base;
export default function ({ className, cols, list, empty, onClick, onChangeSort = () => { } }) {
    const [columnKey, setColumnKey] = useState("");
    const [sorter, setSorter] = useState("NONE");
    return (_jsxs(Table, { className: className, children: [_jsx(Colgroup, { cols: cols }), _jsx("thead", { children: _jsx("tr", { className: "border-top", children: cols.map((v, key) => (_jsx("th", { className: fnCss.sum(v.headerClassName || "", "pt-2 pb-2"), children: _jsx(Header, { columnKey: v.columnKey, activate: v.columnKey === columnKey, onChange: (sorter) => {
                                if (!v.columnKey)
                                    return;
                                setColumnKey(v.columnKey || "");
                                setSorter(sorter);
                                onChangeSort(v.columnKey || "", sorter);
                            }, children: v.name }) }, key))) }) }), _jsxs("tbody", { children: [list.map((row, key) => (_jsx("tr", { className: "hover:bg-(--color-table-hover) h-14", onClick: (e) => onClick(e, row), children: _jsx(RowBuilder, { cols: cols, value: row, index: key }) }, key))), list.length === 0 && _jsx(RowEmpty, { cols: cols, children: empty })] })] }));
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvY29tcC93aWRnZXQvdGFibGUvc29ydGVyL2luZGV4LnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxZQUFZLENBQUM7O0FBQ2IsT0FBYyxFQUFZLFFBQVEsRUFBQyxNQUFNLE9BQU8sQ0FBQztBQUVqRCxPQUFPLElBQUksTUFBTSxTQUFTLENBQUM7QUFDM0IsT0FBTyxFQUFDLEtBQUssRUFBQyxNQUFNLGNBQWMsQ0FBQztBQUNuQyxPQUFPLE1BQU0sTUFBTSxVQUFVLENBQUM7QUFXOUIsTUFBTSxFQUFDLFVBQVUsRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBQyxHQUFHLElBQUksQ0FBQztBQUVyRCxNQUFNLENBQUMsT0FBTyxXQUFpQixFQUFDLFNBQVMsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsWUFBWSxHQUFHLEdBQUcsRUFBRSxHQUFFLENBQUMsRUFBYztJQUMzRyxNQUFNLENBQUMsU0FBUyxFQUFFLFlBQVksQ0FBQyxHQUFHLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUMvQyxNQUFNLENBQUMsTUFBTSxFQUFFLFNBQVMsQ0FBQyxHQUFHLFFBQVEsQ0FBUyxNQUFNLENBQUMsQ0FBQztJQUVyRCxPQUFPLENBQ04sTUFBQyxLQUFLLElBQUMsU0FBUyxFQUFFLFNBQVMsYUFDMUIsS0FBQyxRQUFRLElBQUMsSUFBSSxFQUFFLElBQUksR0FBSSxFQUN4QiwwQkFDQyxhQUFJLFNBQVMsRUFBQyxZQUFZLFlBQ3hCLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxFQUFFLEVBQUUsQ0FBQyxDQUNyQixhQUNDLFNBQVMsRUFBRSxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxlQUFlLElBQUksRUFBRSxFQUFFLFdBQVcsQ0FBQyxZQUUxRCxLQUFDLE1BQU0sSUFDTixTQUFTLEVBQUUsQ0FBQyxDQUFDLFNBQVMsRUFDdEIsUUFBUSxFQUFFLENBQUMsQ0FBQyxTQUFTLEtBQUssU0FBUyxFQUNuQyxRQUFRLEVBQUUsQ0FBQyxNQUFNLEVBQUUsRUFBRTtnQ0FDcEIsSUFBSSxDQUFDLENBQUMsQ0FBQyxTQUFTO29DQUFFLE9BQU87Z0NBQ3pCLFlBQVksQ0FBQyxDQUFDLENBQUMsU0FBUyxJQUFJLEVBQUUsQ0FBQyxDQUFDO2dDQUNoQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7Z0NBQ2xCLFlBQVksQ0FBQyxDQUFDLENBQUMsU0FBUyxJQUFJLEVBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQzs0QkFDekMsQ0FBQyxZQUNBLENBQUMsQ0FBQyxJQUFJLEdBQ0MsSUFYSixHQUFHLENBWUosQ0FDTCxDQUFDLEdBQ0UsR0FDRSxFQUNSLDRCQUNFLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEVBQUUsQ0FBQyxDQUN2QixhQUNDLFNBQVMsRUFBQyxxQ0FBcUMsRUFFL0MsT0FBTyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxZQUMvQixLQUFDLFVBQVUsSUFDVixJQUFJLEVBQUUsSUFBSSxFQUNWLEtBQUssRUFBRSxHQUFHLEVBQ1YsS0FBSyxFQUFFLEdBQUcsR0FDVCxJQU5HLEdBQUcsQ0FPSixDQUNMLENBQUMsRUFDRCxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsSUFBSSxLQUFDLFFBQVEsSUFBQyxJQUFJLEVBQUUsSUFBSSxZQUFHLEtBQUssR0FBWSxJQUN2RCxJQUNELENBQ1IsQ0FBQztBQUNILENBQUMifQ==